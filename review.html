<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>사용자 리뷰 - 뇌체크</title>
    <meta name="description" content="뇌체크 사용자 리뷰. 토익 점수 200점 향상, 영어 회화 자신감 향상 등 실제 사용자들의 생생한 학습 후기를 확인하세요.">
    <meta name="keywords" content="뇌체크, 리뷰, 후기, 영어앱 후기, 영어학습 후기, 토익">
    <meta name="author" content="뇌체크">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="뇌체크">
    <meta property="og:title" content="뇌체크 - 덜어내는 순간, 몰입이 시작됩니다.">
    <meta property="og:description" content="영어회화, 영어작문, 뇌체크는 플래시카드를 핵심 추상화로 삼아, 언어 학습의 본질에 몰입하도록 설계된 미니멀리스트 앱입니다.">
    <meta property="og:url" content="https://braincheck.co.kr/review.html">
    <meta property="og:image" content="https://braincheck.co.kr/assets/images/og_kakao.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:type" content="image/png">
    <meta property="og:locale" content="ko_KR">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="뇌체크 - 덜어내는 순간, 몰입이 시작됩니다.">
    <meta name="twitter:description" content="영어회화, 영어작문, 뇌체크는 플래시카드를 핵심 추상화로 삼아, 언어 학습의 본질에 몰입하도록 설계된 미니멀리스트 앱입니다.">
    <meta name="twitter:image" content="https://braincheck.co.kr/assets/images/og_kakao.png">
    <link rel="canonical" href="https://braincheck.co.kr/review.html">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/app_icon58.png">
    <link rel="icon" type="image/png" sizes="192x192" href="./assets/images/app_icon729.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/images/app_icon729.png">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css">
    <style>
        .review-hero {
            padding: 140px 40px 60px;
            text-align: center;
            background: linear-gradient(180deg, #f8faff 0%, #ffffff 100%);
        }

        .review-hero h1 {
            font-size: clamp(28px, 5vw, 42px);
            font-weight: 800;
            margin-bottom: 16px;
        }

        .review-hero h1 span {
            background: linear-gradient(135deg, #4CB050 0%, #2E7D32 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .review-hero p {
            font-size: 16px;
            color: #666;
        }

        .review-section {
            padding: 40px 40px 100px;
            max-width: 980px;
            margin: 0 auto;
        }

        .review-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }

        .review-card {
            background: #fff;
            border-radius: 16px;
            padding: 32px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border-left: 4px solid #4CB050;
        }

        .review-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
        }

        .review-card h3,
        .review-card p.review-content {
            cursor: pointer;
            border-radius: 6px;
            padding: 4px 8px;
            margin-left: -8px;
            margin-right: -8px;
            transition: background 0.2s;
            position: relative;
        }

        .review-card h3:hover,
        .review-card p.review-content:hover {
            background: #f0f7f0;
        }

        .review-card h3:active,
        .review-card p.review-content:active {
            background: #e0f0e0;
        }

        .copied-feedback {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s, transform 0.2s;
            z-index: 9999;
        }

        .copied-feedback.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        .review-card h3 {
            font-size: 18px;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 16px;
            line-height: 1.4;
        }

        .review-card p {
            font-size: 15px;
            color: #555;
            line-height: 1.8;
        }

        .review-card .stars {
            margin-bottom: 12px;
            color: #FFB800;
            font-size: 16px;
        }

        .refresh-btn {
            display: block;
            margin: 40px auto 0;
            padding: 14px 32px;
            background: linear-gradient(135deg, #4CB050 0%, #2E7D32 100%);
            color: #fff;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .refresh-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(76, 176, 80, 0.4);
        }

        @media (max-width: 768px) {
            .review-hero {
                padding: 100px 20px 40px;
            }

            .review-section {
                padding: 20px 20px 60px;
            }

            .review-card {
                padding: 24px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <a href="./index.html" class="logo">뇌<span>체크</span></a>
        <nav class="nav-links">
            <a href="./about.html">회사소개</a>
            <a href="./support.html">고객센터</a>
            <a href="./information.html">개인정보처리방침</a>
        </nav>
    </header>

    <!-- Hero -->
    <section class="review-hero">
        <h1>사용자들의 <span>생생한 후기</span></h1>
        <p>뇌체크를 사용하는 분들의 실제 리뷰입니다</p>
    </section>

    <!-- Reviews -->
    <section class="review-section">
        <div class="review-grid" id="reviewGrid">
            <!-- Reviews will be inserted here by JavaScript -->
        </div>
        <button class="refresh-btn" onclick="displayRandomReviews()">다른 리뷰 보기</button>
    </section>

    <!-- App Download -->
    <section class="section" style="text-align: center;">
        <h2>지금 시작하세요</h2>
        <div class="download-section" style="justify-content: center;">
            <div class="qr-code">
                <img src="./assets/images/braincheck-co-kr-review-html-qrcode.svg" alt="리뷰 페이지 QR 코드" width="400" height="400">
            </div>
            <div class="store-badges" style="display: flex; flex-direction: column; gap: 12px; align-items: center;">
                <a href="https://apps.apple.com/kr/app/%EB%87%8C%EC%B2%B4%ED%81%AC-%EC%98%81%EC%96%B4%ED%9A%8C%ED%99%94-%EC%98%81%EC%96%B4%EC%9E%91%EB%AC%B8/id6754181689" target="_blank">
                    <img src="./assets/images/app_store_badge.png" alt="App Store에서 다운로드" height="50">
                </a>
                <a href="https://play.google.com/store/apps/details?id=kr.co.braincheck.bc&hl=ko" target="_blank">
                    <img src="./assets/images/google_play_badge.png" alt="Google Play에서 다운로드" height="50">
                </a>
            </div>
        </div>
    </section>

    <script>
        const REVIEWS_BASE_URL = './assets/data/reviews/';
        let manifest = null;
        let loadedReviews = [];
        let currentChunkIndex = 0;
        let usedIds = new Set();
        const isAndroid = /Android/i.test(navigator.userAgent);

        async function loadManifest() {
            const res = await fetch(REVIEWS_BASE_URL + 'manifest.json');
            manifest = await res.json();
        }

        async function loadChunk(index) {
            if (!manifest || index >= manifest.chunks.length) return false;
            const filename = manifest.chunks[index];
            const res = await fetch(REVIEWS_BASE_URL + filename + '?v=' + manifest.version);
            const chunk = await res.json();
            loadedReviews = chunk;
            usedIds.clear();
            return true;
        }

        function getRandomReviews(count) {
            const available = loadedReviews.filter(r => !usedIds.has(r.id));
            if (available.length < count) {
                usedIds.clear();
                return getRandomReviews(count);
            }
            const shuffled = available.sort(() => Math.random() - 0.5);
            const selected = shuffled.slice(0, count);
            selected.forEach(r => usedIds.add(r.id));
            return selected;
        }

        async function displayRandomReviews() {
            const grid = document.getElementById('reviewGrid');
            const btn = document.querySelector('.refresh-btn');
            
            if (loadedReviews.length === 0 || usedIds.size >= loadedReviews.length * 0.8) {
                btn.disabled = true;
                btn.textContent = '로딩 중...';
                currentChunkIndex = (currentChunkIndex + 1) % manifest.chunks.length;
                await loadChunk(currentChunkIndex);
                btn.disabled = false;
                btn.textContent = '다른 리뷰 보기';
            }

            const reviews = getRandomReviews(4);
            grid.innerHTML = reviews.map(review => {
                const fullText = review.title + ' ' + review.content;
                if (isAndroid) {
                    return `
                        <div class="review-card">
                            <div class="stars">★★★★★</div>
                            <p class="review-content" onclick="copyText('${fullText.replace(/'/g, "\\'")}')">${fullText}</p>
                        </div>
                    `;
                } else {
                    return `
                        <div class="review-card">
                            <div class="stars">★★★★★</div>
                            <h3 onclick="copyText(this.textContent)">${review.title}</h3>
                            <p class="review-content" onclick="copyText(this.textContent)">${review.content}</p>
                        </div>
                    `;
                }
            }).join('');
        }

        function copyText(text) {
            navigator.clipboard.writeText(text).then(() => {
                const toast = document.getElementById('copiedFeedback');
                toast.classList.add('show');
                clearTimeout(toast._timer);
                toast._timer = setTimeout(() => toast.classList.remove('show'), 1000);
            });
        }

        async function init() {
            const grid = document.getElementById('reviewGrid');
            grid.innerHTML = '<p style="text-align:center;color:#666;">리뷰 불러오는 중...</p>';
            try {
                await loadManifest();
                await loadChunk(0);
                await displayRandomReviews();
            } catch (e) {
                grid.innerHTML = '<p style="text-align:center;color:#666;">리뷰를 불러올 수 없습니다.</p>';
            }
        }

        init();
        
    </script>

    <div id="copiedFeedback" class="copied-feedback">복사됨 ✓</div>

    <footer class="footer">
        <div class="footer-links">
            <a href="./index.html">홈</a>
            <a href="./about.html">회사소개</a>
            <a href="./support.html">고객센터</a>
            <a href="./information.html">개인정보처리방침</a>
        </div>
        <p><a href="./review.html" style="text-decoration:none;color:inherit;">&copy; 뇌체크</a></p>
    </footer>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "@id": "https://braincheck.co.kr/review.html",
        "name": "사용자 리뷰 - 뇌체크",
        "description": "뇌체크 사용자들의 생생한 학습 후기",
        "isPartOf": {
            "@id": "https://braincheck.co.kr/#website"
        }
    }
    </script>
    <script src="./common.js"></script>
</body>
</html>
